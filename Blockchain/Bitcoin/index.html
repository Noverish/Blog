<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>개발자를 위한 비트코인 해부학 - Hyunsub&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hyunsub Kim"><meta name="msapplication-TileImage" content="/assets/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hyunsub Kim"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="개발자의 시각에서 정확한 비트코인의 동작 방식을 알아보겠습니다."><meta property="og:type" content="blog"><meta property="og:title" content="개발자를 위한 비트코인 해부학"><meta property="og:url" content="https://blog.hyunsub.kim/Blockchain/Bitcoin/"><meta property="og:site_name" content="Hyunsub&#039;s Blog"><meta property="og:description" content="개발자의 시각에서 정확한 비트코인의 동작 방식을 알아보겠습니다."><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://blog.hyunsub.kim/covers/bitcoin.png"><meta property="article:published_time" content="2022-01-21T10:58:00.000Z"><meta property="article:author" content="Hyunsub Kim"><meta property="article:tag" content="bitcoin"><meta property="article:tag" content="blockchain"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/covers/bitcoin.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.hyunsub.kim/Blockchain/Bitcoin/"},"headline":"Hyunsub's Blog","image":["https://blog.hyunsub.kim/covers/bitcoin.png"],"datePublished":"2022-01-21T10:58:00.000Z","author":{"@type":"Person","name":"Hyunsub Kim"},"description":"개발자의 시각에서 정확한 비트코인의 동작 방식을 알아보겠습니다."}</script><link rel="canonical" href="https://blog.hyunsub.kim/Blockchain/Bitcoin/"><link rel="icon" href="/assets/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/assets/logo.svg" alt="Hyunsub&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Noverish/Blog"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="카탈로그" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-9-desktop is-9-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="/covers/bitcoin.png" alt="개발자를 위한 비트코인 해부학"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-01-21T10:58:00.000Z" title="2022-01-21T10:58:00.000Z">2022-01-21</time>&nbsp;게시 됨</span><span class="level-item"><a class="link-muted" href="/categories/Blockchain/">Blockchain</a></span><span class="level-item">41분안에 읽기 (약 6148 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile">개발자를 위한 비트코인 해부학</h1><div class="content"><p>개발자의 시각에서 정확한 비트코인의 동작 방식을 알아보겠습니다.</p>
<a id="more"></a>

<h1 id="비트코인이란"><a href="#비트코인이란" class="headerlink" title="비트코인이란?"></a>비트코인이란?</h1><h3 id="네트워크로-연결된-여러-노드에서-동일한-송금-장부를-유지하고-작성하는-컴퓨터-프로그램"><a href="#네트워크로-연결된-여러-노드에서-동일한-송금-장부를-유지하고-작성하는-컴퓨터-프로그램" class="headerlink" title="네트워크로 연결된 여러 노드에서 동일한 송금 장부를 유지하고 작성하는 컴퓨터 프로그램"></a><strong>네트워크로 연결된 여러 노드에서 동일한 송금 장부를 유지하고 작성하는 컴퓨터 프로그램</strong></h3><h1 id="블록체인이란"><a href="#블록체인이란" class="headerlink" title="블록체인이란?"></a>블록체인이란?</h1><h3 id="송금-장부를-저장하는-방식"><a href="#송금-장부를-저장하는-방식" class="headerlink" title="송금 장부를 저장하는 방식"></a><strong>송금 장부를 저장하는 방식</strong></h3><h1 id="1-비트코인-노드"><a href="#1-비트코인-노드" class="headerlink" title="1. 비트코인 노드"></a>1. 비트코인 노드</h1><p>비트코인 노드는 비트코인 데몬을 실행하고 있고, 비트코인의 모든 송금 장부(=블록체인)을 저장하고 있는 컴퓨터를 의미합니다.
트랜잭션을 생성하고, 이렇게 생성된 트랜잭션을 모아서 Block을 만들고(채굴), 이렇게 만들어진 Block을 검증하고, 승인하는 주체입니다.
따라서 전체 비트코인 네트워크에서 각각의 노드는 어느 Block을 거절하고 승인할 지 결정할 수 있는 민주 시민의 역할을 하고 있다고 볼 수 있습니다.</p>
<h2 id="현재-비트코인-블록체인-크기"><a href="#현재-비트코인-블록체인-크기" class="headerlink" title="현재 비트코인 블록체인 크기"></a>현재 비트코인 블록체인 크기</h2><p>2022년 1월 기준 비트코인 전체 블록체인의 크기는 <strong>385GB</strong>입니다.
비트코인 데몬을 실행하면 모든 블록체인이 다른 비트코인 노드로 부터 다운로드 됩니다.
<a target="_blank" rel="noopener" href="https://www.blockchain.com/charts/blocks-size">여기</a>에서 실시간 그래프를 볼 수 있습니다.</p>
<h2 id="사람들이-노드를-유지하는-이유"><a href="#사람들이-노드를-유지하는-이유" class="headerlink" title="사람들이 노드를 유지하는 이유"></a>사람들이 노드를 유지하는 이유</h2><p>이렇게 방대한 양의 블록체인을 가지고 있는 노드를 사람들은 왜 유지하고 있을까요?
노드를 유지하고 있는 사람을 크게 3가지로 나눌 수 있습니다.
(<a target="_blank" rel="noopener" href="https://river.com/learn/why-should-i-run-a-bitcoin-node/">출처</a>)</p>
<h4 id="1-송금-채굴-중개-사업자"><a href="#1-송금-채굴-중개-사업자" class="headerlink" title="1) 송금, 채굴 중개 사업자"></a>1) 송금, 채굴 중개 사업자</h4><p>송금, 채굴등 모든 비트코인 관련 기능은 노드 밖에 할 수 없습니다.
다르게 말하면 비트코인의 모든 블록체인을 다운로드 받지 않는 이상 송금이나 채굴을 할 수 없다는 것입니다.
비트코인을 송금하려는 모든 사람이 수 백 GB에 달하는 모든 블록체인을 가지고 있기에는 무리가 있기 때문에,
송금을 중개를 해주는 서비스가 존재하고 있고, 이런 서비스들이 노드를 유지하고 있습니다.</p>
<h4 id="2-비트코인-부자들"><a href="#2-비트코인-부자들" class="headerlink" title="2) 비트코인 부자들"></a>2) 비트코인 부자들</h4><p>하지만 이런 송금 중개를 해주는 서비스들은 기술적으로 사용자의 IP를 알아낼 수 있습니다.
또한 송금을 하기 위해서는 Private Key의 사용이 필수적입니다.
따라서 많은 양의 비트코인을 소유하고 있는 사용자는 해킹의 위협 때문에 믿을 수 없는 송금 중개 서비스의 사용을 꺼릴 수 있습니다.
이들은 독자적인 노드를 유지하여 개인 정보의 보안을 유지하고자 할 것입니다.</p>
<h4 id="3-열렬한-비트코인-신봉자들"><a href="#3-열렬한-비트코인-신봉자들" class="headerlink" title="3) 열렬한 비트코인 신봉자들"></a>3) 열렬한 비트코인 신봉자들</h4><p>수 백 GB이 데이터는 어찌보면 하드디스크 하나에 다 들어갈 수 있을 만큼 작다고 볼 수 있습니다.
따라서 한 개인이 유지하고 있기에는 그렇게 부담스러운 크기는 아닙니다.
탈중앙화 금융에 매료된 사람들이나 블록체인에 대하여 연구하는 사람들은 범지구적인 블록체인 네트워크의 일원이 되고 싶어할 수도 있습니다.</p>
<h2 id="DNS-Seeds"><a href="#DNS-Seeds" class="headerlink" title="DNS Seeds"></a>DNS Seeds</h2><p>처음 비트코인 데몬을 실행하면 그동안 쌓여왔던 블록체인을 다른 노드로 부터 다운로드 받으려고 할 것입니다.
그러기 위해서는 인터넷에 존재하는 다른 노드의 IP 주소를 알아야 합니다.
<strong>비트코인은 다른 노드의 IP 주소를 DNS Query를 이용하여 얻어오는데, 이 때 사용하는 DNS를 <code>DNS Seeds</code>라고 부릅니다.</strong>
이러한 DNS Seeds는 비트코인 코드에 하드코딩 되어 있으며
<a target="_blank" rel="noopener" href="https://github.com/bitcoin/bitcoin/blob/0.21/src/chainparams.cpp#L123-L131">Github 코드</a>
에서 확인할 수 있습니다.</p>
<h1 id="2-송금-Transaction"><a href="#2-송금-Transaction" class="headerlink" title="2. 송금 (Transaction)"></a>2. 송금 (Transaction)</h1><p>송금은 특별한 과정이 필요하지 않습니다.
그냥 철수가 영희에게 50 비트코인을 송금한다고 다른 노드에게 알려주고,
그 정보를 수신한 어떤 노드가 송금 정보(=Transaction)를 포함하고 있는 Block을 만들어주기만 하면 됩니다.</p>
<h2 id="Memory-Pool"><a href="#Memory-Pool" class="headerlink" title="Memory Pool"></a>Memory Pool</h2><p>각 노드들은 네트워크에 연결되어 있는 다른 노드로 부터 트랜잭션 정보를 전달 받습니다.
이렇게 전달 받았지만 아직 Block으로 생성되지 않은 <strong>트랜잭션을 임시로 저장해두는 장소를 <code>Memory Pool</code>이라고 합니다.</strong>
실시간 Memory Pool을 <a target="_blank" rel="noopener" href="https://mempool.space/">이 사이트</a>에서 볼 수 있습니다.</p>
<h2 id="트랜잭션의-승인-Confirmation"><a href="#트랜잭션의-승인-Confirmation" class="headerlink" title="트랜잭션의 승인 (Confirmation)"></a>트랜잭션의 승인 (Confirmation)</h2><p>Memory Pool에 있는 트랜잭션은 아직 완료된 것이 아닙니다.
즉, 아직 비트코인이 완전히 상대방에게 넘어간 것이 아닙니다.
이 트랜잭션이 포함된 Block이 생성되어야 합니다.
<strong>이 트랜잭션이 포함된 Block이 생성되면 한 번 승인 되었다라고 표현합니다.</strong>
그 뒤에 Block이 하나 더 연결되면 두 번, 그 뒤에 Block이 하나 더 연결 되면 세 번, 이런식으로 우리는 어떤 트랜잭션이 몇 번 승인 되었다고 말할 수 있습니다.</p>
<p>금액에 따라 송금이 완료되었다고 판단할 만한 승인 횟수는 다릅니다. 적은 금액은 한 두번이면 충분하지만, 많은 금액은 6번은 필요합니다.
어떤 금액에 몇 번 승인이 필요한지는 각 노드마다 다르게 판단합니다. </p>
<h2 id="비트코인-계좌-지갑"><a href="#비트코인-계좌-지갑" class="headerlink" title="비트코인 계좌 (지갑)"></a>비트코인 계좌 (지갑)</h2><p>비트코인 데몬은 따로 계좌 목록 데이터를 가지고 있지 않습니다. 때문에 명시적으로 계좌를 만들어서 등록하는 과정이 없습니다.
그냥 랜덤으로 생성한 문자열을 하나 만들고 이 문자열에 누군가 송금해주면 해당 계좌가 세상에 알려지는 겁니다.
그리고 비대칭 암호화를 이용한 디지털 서명 기술을 이용하여 해당 계좌의 돈을 함부로 인출할 수 없게 해놨습니다.</p>
<p>비트코인은 랜덤한 32byte 값(Private Key)을 생성한 다음,
<code>Secp256k1</code> 라는 타원곡선 암호(Elliptic curve cryptography)를 이용하여 Public Key를 생성하는 방식을 사용합니다.
<strong>여기서 생성한 Public Key가 계좌 번호이고 Private Key가 계좌 비밀번호입니다.</strong></p>
<h2 id="UTXO"><a href="#UTXO" class="headerlink" title="UTXO"></a>UTXO</h2><p><img src="./utxo.png" alt="트랜잭션 시각화. 여기서 파란색 박스가 UTXO이다."></p>
<p>비트코인은 ‘계좌 잔액’ 이란 개념이 없습니다.
‘다 쓴 금액’과 ‘아직 안 쓴 금액’만 있을 뿐입니다.
위 그림에서 빨간색이 ‘다 쓴 금액’ 파란색이 ‘아직 안 쓴 금액’을 의미합니다.
<strong>UTXO는 아직 안 쓴 금액</strong>을 의미합니다.</p>
<p>위 그림과 같이 트랜잭션에서 보내는 금액(Input)은 정확히 예전에 받았던 금액(Output)과 일치합니다.
각 Input은 해당 금액을 받았던 트랜잭션의 ID를 가지고 있어서 돈의 출처를 알 수 있습니다.</p>
<p>위 그림을 보면 알 수 있듯이 어떤 금액을 보내기 위해서는 그보다 많은 총액을 가지고 있는 Input들을 사용합니다.
이 트랜잭션에서 사용된 모든 Input들은 ‘다 쓴 금액’ 처리가 되고, 보내고 남은 금액은 또 다른 Output으로 생성됩니다.</p>
<p>비트코인 데몬은 어떤 계좌가 어떤 UTXO를 가지고 있는지 인덱싱 해둔 데이터를 가지고 있습니다. 이 것을 <code>UTXO Set</code>라고 부릅니다.
트랜잭션을 빠르게 검증하기 위해서 사용합니다.
UTXO Set은 비트코인 데몬을 처음 실행하면 다른 노드로부터 블록체인 데이터를 받을 때 생성합니다.</p>
<p>2022년 1월 기준 UTXO 수는 8천만개에 달하고, UTXO Set의 데이터 양은 4.5GB 정도 합니다.
<a target="_blank" rel="noopener" href="https://statoshi.info/d/000000009/unspent-transaction-output-set?orgId=1&from=now-1y&to=now&refresh=10m">여기</a>에서 UTXO의 수와 UTXO Set의 데이터 양을 실시간 그래프로 볼 수 있습니다.</p>
<h1 id="3-Block에-담긴-데이터"><a href="#3-Block에-담긴-데이터" class="headerlink" title="3. Block에 담긴 데이터"></a>3. Block에 담긴 데이터</h1><p><img src="./genesis-block.png" alt="최초 Block에 담긴 데이터"></p>
<p>최초 Block의 데이터를 살펴보면서 비트코인 Block에는 정확히 어떤 데이터가 담겨있나 알아보겠습니다.
<a target="_blank" rel="noopener" href="https://blockchain.info/block-height/0">여기</a>
나
<a target="_blank" rel="noopener" href="https://www.blockchain.com/btc/block/000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f">여기</a>
를 보면 비트코인 최초 Block에 어떤 데이터가 담겨있는지 자세히 알 수 있습니다.</p>
<h2 id="각-값의-이름과-의미"><a href="#각-값의-이름과-의미" class="headerlink" title="각 값의 이름과 의미"></a>각 값의 이름과 의미</h2><table>
<thead>
<tr>
<th>이름</th>
<th>값</th>
</tr>
</thead>
<tbody><tr>
<td>Hash</td>
<td>각 Block을 식별할 수 있는 고유 값. 모든 Block은 서로 다른 Hash를 가지고 있습니다.</td>
</tr>
<tr>
<td>Confirmations</td>
<td>이 Block 이후에 블록체인에 생성된 Block의 수</td>
</tr>
<tr>
<td>Timestamp</td>
<td>Block이 생성된 시간</td>
</tr>
<tr>
<td>Height</td>
<td>이 Block이 몇 번째 Block인지를 나타내는 값</td>
</tr>
<tr>
<td>Difficulty</td>
<td><a href="#Difficulty">밑에서 자세히 설명</a></td>
</tr>
<tr>
<td>Merkle root</td>
<td><a href="#Merkle-Root">밑에서 자세히 설명</a></td>
</tr>
<tr>
<td>Version</td>
<td>이 Block의 버전. 버전에 따라 Block에는 다른 형식의 데이터가 담겨 있습니다.</td>
</tr>
<tr>
<td>Bits</td>
<td><a href="#Target">밑에서 자세히 설명</a></td>
</tr>
<tr>
<td>Weight</td>
<td>2017년에 새롭게 등장한 값으로 Block의 크기를 의미. 추후에 자세히 설명</td>
</tr>
<tr>
<td>Size</td>
<td>Block의 바이트 크기</td>
</tr>
<tr>
<td>Nonce</td>
<td><a href="#Nonce">밑에서 자세히 설명</a></td>
</tr>
<tr>
<td>Transaction Volume</td>
<td>트랜잭션의 총 비트코인 양</td>
</tr>
<tr>
<td>Block Reward</td>
<td>이 Block을 채굴한 노드에게 주어진 보상</td>
</tr>
<tr>
<td>Fee Reward</td>
<td>모든 트랜잭션의 수수료 합</td>
</tr>
</tbody></table>
<h2 id="Merkle-Root"><a href="#Merkle-Root" class="headerlink" title="Merkle Root"></a>Merkle Root</h2><p><img src="https://github.com/bitcoinbook/bitcoinbook/raw/a3229bbbc0c929dc53ec11365051a6782695cb52/images/mbc2_0904.png" alt="Merkle Tree"></p>
<p>Merkle Root를 알기 위해서는 먼저 Merkle Tree를 알아야합니다.</p>
<p>Merkle Tree는 Binary Hash Tree라고도 불리웁니다. 방대한 데이터의 무결성을 빠르게 검증하기 위해서 생겨난 자료 구조입니다.
Merkle Tree의 Leaf는 어떤 한 데이터의 Hash 값이고, 각 부모 노드들은 두 자식 노드를 더한 값의 Hash 값입니다.
이런식으로 <strong>각 노드를 합치는 것을 반복한 후 남은 하나의 Hash값을 <code>Merkle Root</code>라고 부릅니다.</strong></p>
<p>비트코인에서는 한 Block 안에 있는 모든 트랜잭션을 요약하기 위한 용도로 쓰입니다.
<strong>비트코인에서 Merkle Tree의 Leaf 값들은 특정 트랜잭션을 두 번 SHA256을 한 값입니다.</strong>
하나의 트랜잭션을 조금만 수정해도 Merkle Root는 크게 달라지므로, Merkle Root 값을 가지고 Block 안에 있는 모든 트랜잭션의 무결성을 보장할 수 있습니다.</p>
<p><img src="https://github.com/bitcoinbook/bitcoinbook/raw/a3229bbbc0c929dc53ec11365051a6782695cb52/images/mbc2_0905.png" alt="Merkle Path"></p>
<p>그냥 모든 Transaction을 한 번에 Hash하면 되지 왜 이런 방식을 쓸까요?
만약에 그런 방식을 사용한다면 특정 트랜잭션을 검증하기 위해서 같은 Block에 있는 다른 모든 트랜잭션의 데이터가 필요합니다.
하지만 Merkle Tree를 사용한다면 위 그림과 같이 몇 개의 Hash 값만 가지고 손 쉽게 특정 트랜잭션을 검증할 수 있게 됩니다.</p>
<p><a target="_blank" rel="noopener" href="https://www.gemini.com/cryptopedia/merkle-tree-blockchain-merkle-root#section-merkle-roots-in-blockchain-why">출처1</a>,
<a target="_blank" rel="noopener" href="https://www.oreilly.com/library/view/mastering-bitcoin/9781491902639/ch07.html#merkle_trees">출처2</a></p>
<h1 id="4-Block-생성-채굴"><a href="#4-Block-생성-채굴" class="headerlink" title="4. Block 생성 (채굴)"></a>4. Block 생성 (채굴)</h1><p>Memory Pool에서 Block으로 만들기를 원하는 트랜잭션을 가지고
적절한 Hash 값만 찾아내면 바로 Block을 생성해 낼 수 있습니다.
Block은 그냥 각 값들을 열거해 놓은 데이터 모음에 불과하기 때문입니다.
하지만 이 Hash 값을 생성해 내는 것이 어렵습니다.</p>
<h2 id="Block-Hash-생성-방법"><a href="#Block-Hash-생성-방법" class="headerlink" title="Block Hash 생성 방법"></a>Block Hash 생성 방법</h2><p>위에서 언급된 바와 같이 Block Hash는 무작위로 생성된 값이 아닙니다.
아래의 6개의 값을 바탕으로 생성합니다.</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
<th>크기</th>
</tr>
</thead>
<tbody><tr>
<td>Version</td>
<td>Block의 버전</td>
<td>4 바이트</td>
</tr>
<tr>
<td>PrevBlockHash</td>
<td>이전 Block의 해시 값</td>
<td>32 바이트</td>
</tr>
<tr>
<td>MerkleRoot</td>
<td><a href="#Merkle-Root">Merkle Root 값</a></td>
<td>32 바이트</td>
</tr>
<tr>
<td>Time</td>
<td>1970-01-01T00:00 UTC 부터 지금까지 지난 시간 (단위: 초)</td>
<td>4 바이트</td>
</tr>
<tr>
<td>Bits</td>
<td>Block 생성 난이도를 조절하는 값으로 <a href="#Target">밑에서 자세히 설명</a></td>
<td>4 바이트</td>
</tr>
<tr>
<td>Nonce</td>
<td>조건을 Hash값을 생성하기 위해 조절되는 값으로 <a href="#Nonce">밑에서 자세히 설명</a></td>
<td>4 바이트</td>
</tr>
</tbody></table>
<p>이렇게 총 80바이트를 두 번 SHA256 해서 생성해 냅니다.</p>
<blockquote>
<p>hash = SHA256(SHA256(Version + PrevBlockHash + MerkleRoot + Time + Bits + Nonce))</p>
</blockquote>
<h2 id="Target"><a href="#Target" class="headerlink" title="Target"></a>Target</h2><p>그런데 비트코인은 정말 특이한 규칙을 가지고 있습니다.
<strong>Block Hash는 특정 target 값 보다 작은 값을 가지고 있어야 한다</strong>는 것입니다.</p>
<p>예를 들어 target이 <code>0x010000</code> 인 경우 <code>0x012345</code>은 target 보다 큰 값이므로 Hash로 사용할 수 없고
<code>0x001234</code>은 target 보다 작은 값이므로 사용할 수 있습니다.</p>
<p>이 target 값은 Block Hash를 만들 때 쓰이는 값 중에 하나인 <code>Bits</code> 값을 통해 다음 규칙에 따라 만들어 집니다.</p>
<blockquote>
<p>x = Bits의 1번째 바이트<br>y = Bits의 2 ~ 4번째 바이트<br>target = y * (1 &lt;&lt; (8 * (x - 3)))    </p>
<p>ex)<br>Bits = 0x12345678<br>x = 0x12<br>y = 0x345678<br>target = 0x0000000000000000000000000000345678000000000000000000000000000000    </p>
</blockquote>
<p>이렇게 계산된 target 값 보다 Block Hash 값이 작아야만 합니다.</p>
<h2 id="Nonce"><a href="#Nonce" class="headerlink" title="Nonce"></a>Nonce</h2><p>이렇게 특정 target 값보다 Block Hash 값을 작게 만들어 주기 위해서 Nonce 값을 바꿔가며 일일히 Block Hash를 계산합니다.
Nonce 값은 4바이트 이므로 총 4,294,967,296 개의 후보가 있습니다.</p>
<h4 id="이런-조건을-만족하는-Nonce를-찾는-것이-바로-채굴입니다"><a href="#이런-조건을-만족하는-Nonce를-찾는-것이-바로-채굴입니다" class="headerlink" title="이런 조건을 만족하는 Nonce를 찾는 것이 바로 채굴입니다."></a><strong>이런 조건을 만족하는 Nonce를 찾는 것이 바로 채굴입니다.</strong></h4><h4 id="사실-채굴은-어려운-수학문제를-푼다기-보다는-많은-복권을-긁는-행위에-더-가까운-것입니다"><a href="#사실-채굴은-어려운-수학문제를-푼다기-보다는-많은-복권을-긁는-행위에-더-가까운-것입니다" class="headerlink" title="사실 채굴은 어려운 수학문제를 푼다기 보다는 많은 복권을 긁는 행위에 더 가까운 것입니다!"></a><strong>사실 채굴은 어려운 수학문제를 푼다기 보다는 많은 복권을 긁는 행위에 더 가까운 것입니다!</strong></h4><p>따라서 복잡한 단일 연산을 빠르게 처리하는 CPU보다 간단한 연산을 병렬로 처리하는 것에 특화된 GPU가 채굴 부품으로써 각광을 받게 된 것입니다.</p>
<p>Nonce의 모든 후보를 체크해봐도 target 보다 작은 Hash 값을 찾을 수 없을 수도 있습니다.
이런 경우에는 Block 생성 시간을 의미하는 <code>Time</code> 값을 변경하거나, 트랜잭션 몇 개를 memory pool에서 바꿔서 <code>MerkleRoot</code> 값을 변경해가며
다시 조건을 만족하는 Nonce 값을 찾습니다.</p>
<p>이 <a target="_blank" rel="noopener" href="https://gist.github.com/turunut/7857bd34bac37a04a91a91ee9ea33520">gist 코드</a>는 이러한 Hash 생성 방법을 Python3으로 작성한 것입니다.</p>
<p><a target="_blank" rel="noopener" href="https://en.bitcoin.it/wiki/Block_hashing_algorithm">출처</a></p>
<h2 id="Hash-Rate"><a href="#Hash-Rate" class="headerlink" title="Hash Rate"></a>Hash Rate</h2><p><img src="bitcoin-hash-rate.png" alt="비트코인 네트워크의 해시 레이트 추이"></p>
<p>해시 레이트는 1초에 얼마나 많은 해시 연산을 할 수 있는가에 대한 척도입니다.
<code>1GH/s</code> 는 1초에 10억 번 해시 연산을 할 수 있다는 의미입니다.
보통 이 단위로 채굴 기기들의 성능을 다룹니다.
<a target="_blank" rel="noopener" href="https://www.quora.com/How-good-is-the-Nvidia-RTX-3090-for-mining-Bitcoin">여기</a>에 따르면 RTX3090의 비트코인 해시레이트는 4.85 GH/s 라고 합니다.</p>
<p>위 그림은 비트코인 네트워크에 연결된 모든 노드의 해시 레이트 추이를 나타냅니다.
2022년 1월 현재 전체 해시 레이트는 <strong>200EH/s</strong>입니다.
1초에 200,000,000,000,000,000,000 번 해시 연산을 할 수 있다는 뜻입니다!</p>
<p><a target="_blank" rel="noopener" href="https://www.blockchain.com/charts/hash-rate">여기</a>에서 비트코인 전체 해시 레이트를 실시간으로 볼 수 있습니다.</p>
<h2 id="Difficulty"><a href="#Difficulty" class="headerlink" title="Difficulty"></a>Difficulty</h2><p><img src="./bitcoin-difficulty.png" alt="Bitcoin Difficulty 추이"></p>
<p>Difficulty는 얼마나 Block 생성이 어려운지, 즉, 조건을 만족하는 Hash를 찾는 것이 얼마나 어려운지를 측정하는 척도입니다.
아래와 같이 계산합니다.</p>
<blockquote>
<p>Difficulty = 최초 Block의 target 값 / 현재 Block의 target 값</p>
</blockquote>
<p>최초 Block의 Bits 값은 <code>0x1D00FFFF</code> 이고, 2022년 1월 기준 현재 Bits 값은 <code>0x170B8C8B</code> 이므로, 현재 Difficulty는 <code>24,371,874,614,345</code> 입니다!
<strong>비트코인이 처음 생겼을 때 보다 Block을 생성하는 것이 24조배 어려워졌다</strong>는 것을 의미합니다. </p>
<p>비트코인은 Block을 10분에 한 번 생성되는 것을 지향하기 때문에
이 Difficulty 값을 조절해서 Block 생성 간격을 일정하게 만듭니다.
Miner가 많이 몰려서 Block이 10분 보다 빨리 생성되면 Difficulty를 올립니다. 그리고 그 반대의 경우도 마찬가지 입니다.
하지만 Difficulty가 1보다는 작아지지 않게 설정되어 있습니다.</p>
<p>Difficulty 값은 매 2016 Block마다 조절됩니다.
2016이라는 숫자는 2주 동안 생성되는 Block의 수 입니다.
Difficulty 값을 <code>2주 / 직전 2016개의 Block이 생성되는데 든 총 시간</code> 으로 조정하고 Difficulty 값을 통해 다음 2016개의 Block의 target 값을 정합니다.</p>
<p><a target="_blank" rel="noopener" href="https://btc.com/stats/diff">여기</a>에서 현재 Difficulty 값을 실시간으로 볼 수 있습니다.</p>
<p><a target="_blank" rel="noopener" href="https://en.bitcoin.it/wiki/Difficulty">출처1</a>,
<a target="_blank" rel="noopener" href="https://www.investopedia.com/terms/d/difficulty-cryptocurrencies.asp">출처2</a>,
<a target="_blank" rel="noopener" href="https://bitcoin.stackexchange.com/questions/5838/how-is-difficulty-calculated">출처3</a></p>
<h2 id="Mining-Pool의-등장"><a href="#Mining-Pool의-등장" class="headerlink" title="Mining Pool의 등장"></a>Mining Pool의 등장</h2><p><img src="./mining-pool-ranking.png" alt="Mining Pool 랭킹"></p>
<p>남들보다 더 빠르게 조건을 만족하는 Hash 값을 찾아야 채굴 보상을 받을 수 있는 비트코인 특성상
가능한 많은 컴퓨팅 자원을 가지고 있는 사람이 유리합니다.
그래서 사람들은 힘을 합쳐서 Nonce 값을 구간 별로 나눠서 조건에 맞는 Hash를 찾습니다.</p>
<p>보통 채굴한다는 사람들은 전부 이런 Mining Pool에서 Nonce 값 범위를 지정 받아서 조건에 맞는 Hash를 찾는 것입니다.
따라서 모든 Blockchain을 다운로드 받을 필요도 없고, 휴대폰이나 웹 브라우저로도 채굴이 가능한 것입니다.</p>
<p>무조건 강력한 컴퓨팅 자원을 가지고 있는 Mining Pool만 채굴 보상을 독점하는 것도 아닙니다.
채굴이라는 행위 자체가 복권을 긁는 것과 같아서 약소한 Mining Pool도 우연히 강력한 Mining Pool 보다 조건에 맞는 Hash를 빨리 찾을 수 있기 때문입니다.</p>
<p>각 Mining Pool 마다 채굴 보상을 나누는 규칙이 다릅니다.
자세한 정보는 <a target="_blank" rel="noopener" href="https://www.buybitcoinworldwide.com/mining/pools/">이 글</a>을 읽어 주세요.</p>
<p><a target="_blank" rel="noopener" href="https://btc.com/stats/pool">여기</a>에서 실시간으로 각 Mining Pool의 성능과 점유율을 확인할 수 있습니다.</p>
<h2 id="현재-채굴-수익성"><a href="#현재-채굴-수익성" class="headerlink" title="현재 채굴 수익성"></a>현재 채굴 수익성</h2><p><img src="./mining-profit.png" alt="2022년 1월 기준 비트코인 채굴 수익성"></p>
<p>현재 그래픽카드 최고 라인업 중에 하나인 RTX3090을 1000대 샀다고 가정해 봅시다.
<a target="_blank" rel="noopener" href="https://www.quora.com/How-good-is-the-Nvidia-RTX-3090-for-mining-Bitcoin">여기</a>에 따르면 RTX3090의 비트코인 해시레이트는 4.85 GH/s 라고 합니다.
따라서 1000대의 총 해시레이트는 4.85 TH/s 이고, 이 값을 이 <a target="_blank" rel="noopener" href="https://www.cryptocompare.com/mining/calculator/btc">사이트</a>에 입력하면 예상 수익을 계산할 수 있습니다.</p>
<p>위 사진에서 볼 수 있듯이
<strong>전기세 무료에, Mining Pool 수수료를 전혀 내지 않는다고 가정해도 한 달에 31달러밖에 벌 수 없습니다</strong> (2022년 1월 기준).
비트코인의 채굴 난이도는 시간이 지날 수록 점점 높아지니, 비트코인의 가격이 많이 오르지 않는 이상 이 금액은 점점 줄어들겁니다.</p>
<h2 id="반감기"><a href="#반감기" class="headerlink" title="반감기"></a>반감기</h2><p><img src="./bitcoin-halving.png" alt="연도별 발행되는 비트코인 수"></p>
<p>비트코인은 <strong>21만개의 Block이 생성될 때 마다 채굴 보상이 반으로 줄어들게</strong> 설계되어 있습니다.
이걸 시간으로 환산하면 대략 4년정도 입니다.
처음에는 채굴 보상이 <code>50 BTC</code>이었지만 지금은 3번의 반감기를 거쳐 <code>6.25 BTC</code>로 줄어들었습니다.
주기적으로 채굴 보상이 줄어드니 시간이 아무리 지나도 시중에 2100만개 이상의 비트코인이 풀리지 않을 것을 알 수 있습니다.
2022년 1월 현재 약 1900만개의 비트코인이 시중에 존재하고 있습니다.</p>
<h1 id="5-Block-File-Format"><a href="#5-Block-File-Format" class="headerlink" title="5. Block File Format"></a>5. Block File Format</h1><p><a target="_blank" rel="noopener" href="https://www.arcblock.io/blog/en/post/2018/08/16/index-bitcoin">출처1</a>,
<a target="_blank" rel="noopener" href="https://wiki.bitcoinsv.io/index.php/Genesis_block">출처2</a>,
<a target="_blank" rel="noopener" href="https://en.bitcoin.it/wiki/Genesis_block">출처3</a>,
<a target="_blank" rel="noopener" href="https://github.com/bitcoin/bitcoin/blob/master/src/primitives/block.h">Github</a></p>
<p><img src="./bitcoin-block-file-format.png" alt="Block 파일 포맷"></p>
<p>비트코인 최초 Block은 파일에 정확히 아래와 같이 저장되어 있습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">F9 BE B4 D9 1D 01 00 00  01 00 00 00 00 00 00 00</span><br><span class="line">00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00</span><br><span class="line">00 00 00 00 00 00 00 00  00 00 00 00 3B A3 ED FD</span><br><span class="line">7A 7B 12 B2 7A C7 2C 3E  67 76 8F 61 7F C8 1B C3</span><br><span class="line">88 8A 51 32 3A 9F B8 AA  4B 1E 5E 4A 29 AB 5F 49</span><br><span class="line">FF FF 00 1D 1D AC 2B 7C  01 01 00 00 00 01 00 00</span><br><span class="line">00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00</span><br><span class="line">00 00 00 00 00 00 00 00  00 00 00 00 00 00 FF FF</span><br><span class="line">FF FF 4D 04 FF FF 00 1D  01 04 45 54 68 65 20 54</span><br><span class="line">69 6D 65 73 20 30 33 2F  4A 61 6E 2F 32 30 30 39</span><br><span class="line">20 43 68 61 6E 63 65 6C  6C 6F 72 20 6F 6E 20 62</span><br><span class="line">72 69 6E 6B 20 6F 66 20  73 65 63 6F 6E 64 20 62</span><br><span class="line">61 69 6C 6F 75 74 20 66  6F 72 20 62 61 6E 6B 73</span><br><span class="line">FF FF FF FF 01 00 F2 05  2A 01 00 00 00 43 41 04</span><br><span class="line">67 8A FD B0 FE 55 48 27  19 67 F1 A6 71 30 B7 10</span><br><span class="line">5C D6 A8 28 E0 39 09 A6  79 62 E0 EA 1F 61 DE B6</span><br><span class="line">49 F6 BC 3F 4C EF 38 C4  F3 55 04 E5 1E C1 12 DE</span><br><span class="line">5C 38 4D F7 BA 0B 8D 57  8A 4C 70 2B 6B F1 1D 5F</span><br><span class="line">AC 00 00 00 00 F9 BE B4  D9</span><br></pre></td></tr></table></figure>

<ul>
<li>비트코인 Block은 Script 필드를 제외한 모든 필드가 Little-Endian 으로 저장되어 있습니다.</li>
<li>variable bytes는 다음 규칙으로 값을 읽습니다<ol>
<li>첫 바이트가 253보다 작을 경우, 그냥 그 값을 읽습니다.</li>
<li>첫 바이트가 253일 경우, 그 다음 바이트 값을 읽습니다.</li>
<li>첫 바이트가 254일 경우, 그 다음 4바이트 값을 읽습니다.</li>
<li>첫 바이트가 255일 경우, 그 다음 8바이트 값을 읽습니다.</li>
</ol>
</li>
</ul>
<p>이를 해석하면 다음과 같습니다</p>
<p><img src="./bitcoin-genesis-block.png" alt="비트코인 최초 블럭"></p>
<h3 id="Magic-Number"><a href="#Magic-Number" class="headerlink" title="Magic Number"></a>Magic Number</h3><p><code>0xD9B4BEF9</code> 으로 하드코딩 되어 있습니다. 테스트 네트워크의 경우에는 <code>0xDAB5BFFA</code> 입니다.
<a target="_blank" rel="noopener" href="https://github.com/bitcoin/bitcoin/blob/0.21/src/chainparams.cpp#L104-L107">Github 코드</a>에서 확인할 수 있습니다.
Block을 파일 시스템에 저장할 때, 한 파일에 한 Block을 저장하는 것이 아니라 여러 Block을 저장하기 때문에 각 Block을 구분하기 위하여 고안되었습니다.
일반적으로 한 파일이 128MB가 넘어가면 다음 Block 부터는 다른 파일에 저장합니다.</p>
<p><a target="_blank" rel="noopener" href="https://bitcoin.stackexchange.com/questions/2337/how-was-the-magic-network-id-value-chosen">출처1</a>,
<a target="_blank" rel="noopener" href="https://bitcoin.stackexchange.com/questions/43189/what-is-the-magic-number-used-in-the-block-structure">출처2</a></p>
<h3 id="Lock-Time"><a href="#Lock-Time" class="headerlink" title="Lock Time"></a>Lock Time</h3><p>해당 트랜잭션이 언제부터 valid 한지를 나타내는 필드입니다.
<strong>즉 예약 송금을 할 수 있다는 의미입니다.</strong>
이 시기가 되기 전까지는 해당 트랜잭션은 Memory Pool에만 있고, 새로 채굴되는 블럭에 포함될 수 없습니다.</p>
<table>
<thead>
<tr>
<th>값</th>
<th>의미</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>즉시 송금</td>
</tr>
<tr>
<td>&lt; 500,000,000</td>
<td>이 숫자 만큼의 블록이 쌓인 후 송금</td>
</tr>
<tr>
<td>&gt;= 500,000,000</td>
<td>해당 날짜가 지난 후 송금. 1970-01-01T00:00 UTC 부터 지금까지 지난 시간(초)를 의미합니다.</td>
</tr>
</tbody></table>
<p><a target="_blank" rel="noopener" href="https://learnmeabitcoin.com/technical/locktime">출처</a></p>
<h3 id="Sequence"><a href="#Sequence" class="headerlink" title="Sequence"></a>Sequence</h3><p>예약 송금을 한 후, 송금 금액을 변경하고 싶을 수 있습니다.
그럴 때는 원래 트랜잭션보다 더 높은 Sequnce 값을 가지고 있는 새로운 트랜잭션을 다른 노드에 전파하면 <strong>기존의 예약된 트랜잭션을 덮어쓸 수 있습니다.</strong></p>
<p>일반적으로 예약 송금을 하지 않을 때는 Lock Time 값을 0으로, Sequnce 값을 MAX_INT 값으로 지정해 놓습니다.</p>
<p>추가적인 수수료 없이 다른 노드에 전파된 트랜잭션을 마음껏 수정할 수 있다 보니,
악의적인 사용자가 이 기능을 이용하여 막대한 트래픽을 발생시켜서 비트코인 네트워크를 마비시킬 수 있습니다.
따라서 중간에 기능을 막아두었다가, 트랜잭션을 수정할 때 수수료를 더 내야하는 구조로 변경되었습니다.
이를 <code>Opt-in RBF</code> 라고 합니다 더 자세한 정보는
<a target="_blank" rel="noopener" href="https://bitcoin.stackexchange.com/questions/87372/what-does-the-sequence-in-a-transaction-input-mean">이 글</a>과
<a target="_blank" rel="noopener" href="https://bitcoincore.org/en/faq/optin_rbf/#who-invented-unconfirmed-transaction-replacement-does-it-go-against-the-vision-of-bitcoin">이 글</a>을 읽어주세요</p>
<h1 id="Appendix"><a href="#Appendix" class="headerlink" title="Appendix"></a>Appendix</h1><ul>
<li><a target="_blank" rel="noopener" href="https://bitcoin.org/bitcoin.pdf">사토시 나카모토가 쓴 비트코인 논문 링크</a></li>
<li><a target="_blank" rel="noopener" href="https://www.oreilly.com/library/view/mastering-bitcoin/9781491902639/index.html">Mastering Bitcoin - Andreas M. Antonopoulos (O’Reilly)</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/bitcoinbook/bitcoinbook">Mastering Bitcoin - Andreas M. Antonopoulos (Github)</a></li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>개발자를 위한 비트코인 해부학</p><p><a href="https://blog.hyunsub.kim/Blockchain/Bitcoin/">https://blog.hyunsub.kim/Blockchain/Bitcoin/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Hyunsub Kim</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2022-01-21</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/bitcoin/">bitcoin</a><a class="link-muted mr-2" rel="tag" href="/tags/blockchain/">blockchain</a></div><div class="sharethis-inline-share-buttons"></div><script src="//platform-api.sharethis.com/js/sharethis.js#property=5fd61d47957af60014171af8&amp;product=inline-share-buttons" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/Hadoop/Install-Hadoop-Single-Node/"><span class="level-item">Apache Hadoop 설치하기 (Single Node) (+Docker)</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">댓글</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://blog.hyunsub.kim/Blockchain/Bitcoin/';
            this.page.identifier = 'c8288934cdab2a704d2cf0b8d441d399bd8014bb';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'blog-hyunsub' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-3-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/assets/profile.jpg" alt="Hyunsub Kim"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Hyunsub Kim</p><p class="is-size-6 is-block">(noverish)</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Seoul, Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">43</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">10</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">57</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/noverish" target="_blank" rel="noopener">팔로우</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Résumé" href="https://hyunsub.kim"><i class="fas fa-home"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/noverish"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com/profile.php?id=100008644627377"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/noverish"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/hyunsub-kim-912a981b2/"><i class="fab fa-linkedin"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Android/"><span class="level-start"><span class="level-item">Android</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Blockchain/"><span class="level-start"><span class="level-item">Blockchain</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/CI-CD/"><span class="level-start"><span class="level-item">CI/CD</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Hadoop/"><span class="level-start"><span class="level-item">Hadoop</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Node/"><span class="level-start"><span class="level-item">Node</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Server/"><span class="level-start"><span class="level-item">Server</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Spring/"><span class="level-start"><span class="level-item">Spring</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/iOS/"><span class="level-start"><span class="level-item">iOS</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/%EA%B8%B0%ED%83%80/"><span class="level-start"><span class="level-item">기타</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li></ul></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">카탈로그</h3><ul class="menu-list"><li><a class="level is-mobile" href="#비트코인이란"><span class="level-left"><span class="level-item">비트코인이란?</span></span></a></li><li><a class="level is-mobile" href="#블록체인이란"><span class="level-left"><span class="level-item">블록체인이란?</span></span></a></li><li><a class="level is-mobile" href="#1-비트코인-노드"><span class="level-left"><span class="level-item">1. 비트코인 노드</span></span></a></li><li><a class="level is-mobile" href="#2-송금-Transaction"><span class="level-left"><span class="level-item">2. 송금 (Transaction)</span></span></a></li><li><a class="level is-mobile" href="#3-Block에-담긴-데이터"><span class="level-left"><span class="level-item">3. Block에 담긴 데이터</span></span></a></li><li><a class="level is-mobile" href="#4-Block-생성-채굴"><span class="level-left"><span class="level-item">4. Block 생성 (채굴)</span></span></a></li><li><a class="level is-mobile" href="#5-Block-File-Format"><span class="level-left"><span class="level-item">5. Block File Format</span></span></a></li><li><a class="level is-mobile" href="#Appendix"><span class="level-left"><span class="level-item">Appendix</span></span></a></li></ul></div></div><script src="/js/toc.js" defer></script></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/assets/logo.svg" alt="Hyunsub&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2022 Hyunsub Kim</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script><!-- hexo injector body_end start -->
  <script>
  (() => {
    function switchTab() {
      const defaultTab = document.querySelector('.tabs li a').getAttribute('href').slice(1);
      const activeTab = (location.hash) ? location.hash.slice(1) : defaultTab;

      document.querySelectorAll('.tab-content').forEach(v => v.classList.add('is-hidden'));
      document.querySelectorAll('.tabs li').forEach(v => v.classList.remove('is-active'));

      document.querySelectorAll('.' + activeTab).forEach(v => v.classList.remove('is-hidden'));
      document.querySelectorAll(`a[href="#${activeTab}"]`).forEach(v => v.parentElement.classList.add('is-active'));
    }
    switchTab();
    window.addEventListener('hashchange', switchTab, false);
  })();
  </script>
  <!-- hexo injector body_end end --></body></html>