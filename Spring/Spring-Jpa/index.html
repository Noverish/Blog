<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Spring Boot - Spring Data JPA (with MySQL) - Hyunsub&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hyunsub Kim"><meta name="msapplication-TileImage" content="/assets/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hyunsub Kim"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="Spring Boot에서 Spring Data JPA를 사용하여 MySQL을 다루는 법을 알아보겠습니다."><meta property="og:type" content="blog"><meta property="og:title" content="Spring Boot - Spring Data JPA (with MySQL)"><meta property="og:url" content="https://blog.hyunsub.kim/Spring/Spring-Jpa/"><meta property="og:site_name" content="Hyunsub&#039;s Blog"><meta property="og:description" content="Spring Boot에서 Spring Data JPA를 사용하여 MySQL을 다루는 법을 알아보겠습니다."><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://blog.hyunsub.kim/covers/spring.png"><meta property="article:published_time" content="2020-12-18T08:24:00.000Z"><meta property="article:author" content="Hyunsub Kim"><meta property="article:tag" content="spring"><meta property="article:tag" content="spring-boot"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/covers/spring.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.hyunsub.kim/Spring/Spring-Jpa/"},"headline":"Hyunsub's Blog","image":["https://blog.hyunsub.kim/covers/spring.png"],"datePublished":"2020-12-18T08:24:00.000Z","author":{"@type":"Person","name":"Hyunsub Kim"},"description":"Spring Boot에서 Spring Data JPA를 사용하여 MySQL을 다루는 법을 알아보겠습니다."}</script><link rel="canonical" href="https://blog.hyunsub.kim/Spring/Spring-Jpa/"><link rel="icon" href="/assets/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/assets/logo.svg" alt="Hyunsub&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Noverish/Blog"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="카탈로그" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-9-desktop is-9-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="/covers/spring.png" alt="Spring Boot - Spring Data JPA (with MySQL)"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2020-12-18T08:24:00.000Z" title="2020-12-18T08:24:00.000Z">2020-12-18</time>&nbsp;게시 됨</span><span class="level-item"><a class="link-muted" href="/categories/Spring/">Spring</a></span><span class="level-item">21분안에 읽기 (약 3215 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile">Spring Boot - Spring Data JPA (with MySQL)</h1><div class="content"><p>Spring Boot에서 Spring Data JPA를 사용하여 MySQL을 다루는 법을 알아보겠습니다.</p>
<a id="more"></a>

<h1 id="1-Dependency-추가"><a href="#1-Dependency-추가" class="headerlink" title="1. Dependency 추가"></a>1. Dependency 추가</h1><figure class="highlight gradle"><figcaption><span>build.gradle</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    runtimeOnly <span class="string">&#x27;mysql:mysql-connector-java&#x27;</span></span><br><span class="line">    implementation <span class="string">&#x27;org.springframework.boot:spring-boot-starter-data-jpa&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="2-설정"><a href="#2-설정" class="headerlink" title="2. 설정"></a>2. 설정</h1><figure class="highlight text"><figcaption><span>application.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">spring.jpa.hibernate.ddl-auto=create</span><br><span class="line">spring.datasource.url=jdbc:mysql://localhost:3306/mydb?serverTimezone=Asia/Seoul</span><br><span class="line">spring.datasource.username=username</span><br><span class="line">spring.datasource.password=password</span><br></pre></td></tr></table></figure>

<p><code>spring.jpa.hibernate.ddl-auto</code>의 값의 의미는 다음과 같다.</p>
<ul>
<li>none: 아무 것도 하지 않는다. (MySQL에서의 기본값)</li>
<li>validate: DB와 엔티티의 스키마가 맞지 않으면 다른 부분을 출력하고 종료한다.</li>
<li>update: 변경된 엔티티의 스키마를 적용한다.</li>
<li>create: SessionFactory가 시작될 때, 기존의 테이블을 drop하고 새 테이블을 생성한다.</li>
<li>create-drop: create의 동작 + SessionFactory가 종료될 때, 테이블을 drop 한다.</li>
</ul>
<article class="message message-immersive is-warning">
  <div class="message-body">
    <i class="fas fa-exclamation-triangle mr-2"></i>
    만약 본인 DB의 TimeZone이 Asia/Seoul가 아닐 경우 이에 맞게 바꿔주어야합니다.
  </div>
</article>

<h1 id="3-Entity-클래스-정의"><a href="#3-Entity-클래스-정의" class="headerlink" title="3. Entity 클래스 정의"></a>3. Entity 클래스 정의</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table(name=&quot;user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserEntity</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(nullable=false)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(columnDefinition=&quot;DATETIME(0) default CURRENT_TIMESTAMP&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> OffsetDateTime dateTime;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>컬럼 타입에 Integer, String 뿐만 아니라 Double, Char, Boolean등 다양한 Java Primitive Type을 사용할 수 있습니다.</li>
<li>String은 컬럽 타입이 <code>VARCHAR(255)</code>로 자동으로 지정됩니다.</li>
<li><code>@Table</code>이나 <code>@Column</code>에서 <code>name</code>을 명시헤주지 않으면 해당 클래스나 멤버 변수의 이름을 snale_case로 변환한 것을 사용합니다.</li>
<li><code>nullable</code>을 false로 지정해주지 않으면 true가 기본값입니다.</li>
<li><code>columnDefinition</code>을 통해 컬럼 타입을 직접 지정해줄 수 있습니다.
LocalDateTime, OffsetDateTime, ZonedDateTime은 별다른 지정이 없어도 DATETIME으로 타입이 지정됩니다.
하지만 기본으로 소수점 6자리를 사용하도록 설정되기 때문에 저는 저렇게 길이를 0으로 명시하는 편입니다.</li>
<li><code>columnDefinition</code> 뒤에 <code>default [값]</code>을 붙여서 기본값을 지정해줄 수 있습니다.
컬럼이 시간, 날짜와 관련된 타입일 경우 <code>CURRENT_TIMESTAMP</code>를 붙여서 레코드가 생성될 때의 시간을 기본값으로 할 수 있습니다.</li>
</ul>
<h2 id="3-1-Default가-정의된-컬럼-다루기"><a href="#3-1-Default가-정의된-컬럼-다루기" class="headerlink" title="3.1. Default가 정의된 컬럼 다루기"></a>3.1. Default가 정의된 컬럼 다루기</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Column()</span></span><br><span class="line"><span class="meta">@ColumnDefault(&quot;100&quot;)</span></span><br><span class="line"><span class="keyword">private</span> Integer score; <span class="comment">// DB에 NULL이 저장됨!</span></span><br></pre></td></tr></table></figure>

<p>위와 같이 Default값이 설정되어 있는 컬럼에 아무 것도 넣지 않고 save를 하면 DB에는 기본값인 100이 아니라 NULL값이 저장되어 있습니다.
이는 Hibernate가 INSERT 구문을 생성할 때 아래와 같이 모든 값을 명시하기 때문입니다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="built_in">INT</span> <span class="keyword">user</span> (<span class="keyword">name</span>, score) <span class="keyword">VALUE</span> (<span class="string">&#x27;John&#x27;</span>, <span class="literal">NULL</span>) <span class="comment">-- Hibernate가 생성한 Query</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="built_in">INT</span> <span class="keyword">user</span> (<span class="keyword">name</span>) <span class="keyword">VALUE</span> (<span class="string">&#x27;John&#x27;</span>) <span class="comment">-- 이렇게 되어야 score에 기본값이 들어간다.</span></span><br></pre></td></tr></table></figure>

<p>이 문제를 해결하기 위해 2가지 방법이 있습니다.</p>
<h3 id="1-DynamicInsert-사용하기"><a href="#1-DynamicInsert-사용하기" class="headerlink" title="1) @DynamicInsert 사용하기"></a>1) @DynamicInsert 사용하기</h3><p>단순히 엔티티 클래스에 <code>@DynamicInsert</code> 어노테이션을 사용하면 됩니다.
<code>@DynamicInsert</code> 어노테이션은 값이 NULL인 컬럼을 INSERT 구문에 넣지 않는 기능을 합니다.
추가로 <code>@DynamicUpdate</code> 어노테이션도 존재하는데 이름에서 유추할 수 있듯이 값이 NULL인 컬럼을 UPDATE 구문에 넣지 않는 기능을 합니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table(name=&quot;user&quot;)</span></span><br><span class="line"><span class="meta">@DynamicInsert</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserEntity</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>아래와 같이 엔티티를 save한 후에도 DB에는 기본값이 저장되어 있으나, 엔티티 객체에서는 해당 컬럼의 값이 그대로 null로 남아있다는 단점이 있습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">repository.save(entity);</span><br><span class="line"></span><br><span class="line"><span class="comment">// DB에는 기본값인 100이 저장되어 있으나 여기서는 null이 저장되어 있음</span></span><br><span class="line">Integer score = entity.getScore(); <span class="comment">// null</span></span><br></pre></td></tr></table></figure>

<h3 id="2-엔티티-클래스-멤버-변수에-기본값-주기"><a href="#2-엔티티-클래스-멤버-변수에-기본값-주기" class="headerlink" title="2) 엔티티 클래스 멤버 변수에 기본값 주기"></a>2) 엔티티 클래스 멤버 변수에 기본값 주기</h3><p><code>@ColumnDefault</code> 어노테이션을 사용하지 않고 단순히 Java 코드 단계에서 기본값을 정의합니다.
DB 스키마에서 기본값을 확인할 수 없는 단점이 있습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table(name=&quot;user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserEntity</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Column()</span></span><br><span class="line">    <span class="keyword">private</span> Integer score = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-2-NOT-NULL과-Default를-동시에-정의하기"><a href="#3-2-NOT-NULL과-Default를-동시에-정의하기" class="headerlink" title="3.2. NOT NULL과 Default를 동시에 정의하기"></a>3.2. NOT NULL과 Default를 동시에 정의하기</h2><p>어떤 컬럼을 <code>NOT NULL</code>로 선언하고 해당 컬럼에 기본값을 주고 싶은 경우가 종종있습니다.
하지만 아래와 같이 컬럼을 정의하고 해당 컬럼의 값을 넣지 않고 save를 하면 <code>org.hibernate.PropertyValueException</code>이 발생합니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Column(nullable=false)</span></span><br><span class="line"><span class="meta">@ColumnDefault(&quot;100&quot;)</span></span><br><span class="line"><span class="keyword">private</span> Integer score;</span><br></pre></td></tr></table></figure>

<p>이 컬럼의 nullable 여부는 INSERT 구문을 생성하기 전에 확인하는데 default값은 INSERT 구문이 실행해야 집어넣어지기 때문입니다.
이 문제를 해결하기 위해서는 아래와 같이 2가지 방법이 있습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 방법 1</span></span><br><span class="line"><span class="meta">@Column(columnDefinition=&quot;INT default 100 NOT NULL&quot;)</span></span><br><span class="line"><span class="keyword">private</span> Integer score;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 방법 2</span></span><br><span class="line"><span class="meta">@Column(nullable=false)</span></span><br><span class="line"><span class="keyword">private</span> Integer score = <span class="number">100</span>;</span><br></pre></td></tr></table></figure>

<ol>
<li><code>columnDefinition</code>에서 컬럼의 타입과 기본값과 NOT NULL을 동시에 정의하는 방법</li>
<li>Java 코드에 직접 기본값을 정의</li>
</ol>
<h1 id="4-Repository-인터페이스-정의"><a href="#4-Repository-인터페이스-정의" class="headerlink" title="4. Repository 인터페이스 정의"></a>4. Repository 인터페이스 정의</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">UserEntity</span>, <span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>실수로 내용을 빼먹은 것이 아닙니다.
단순히 JpaRepository만 상속하면 준비는 끝났습니다.
JpaRepository를 상속할 때 두번째 제너릭은 Entity의 @Id 컬럼의 타입을 넣어주면 됩니다.</p>
<h1 id="5-간단한-CRUD"><a href="#5-간단한-CRUD" class="headerlink" title="5. 간단한 CRUD"></a>5. 간단한 CRUD</h1><h2 id="5-1-SELECT"><a href="#5-1-SELECT" class="headerlink" title="5.1. SELECT"></a>5.1. SELECT</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">select</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;UserEntity&gt; list = repository.findAll();</span><br><span class="line">    Optional&lt;UserEntity&gt; user = repository.findById(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">long</span> num = repository.count();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-2-INSERT"><a href="#5-2-INSERT" class="headerlink" title="5.2. INSERT"></a>5.2. INSERT</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    UserEntity user = <span class="keyword">new</span> UserEntity(<span class="string">&quot;John&quot;</span>);</span><br><span class="line">    repository.save(user);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> id = user.getId(); <span class="comment">// 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>repository에 save한 후 생성된 기본키를 가져올 수 있습니다.</p>
<h2 id="5-3-UPDATE"><a href="#5-3-UPDATE" class="headerlink" title="5.3. UPDATE"></a>5.3. UPDATE</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    UserEntity user = repository.findById(<span class="number">1</span>).orElseThrow(() -&gt; <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Not Found&quot;</span>));</span><br><span class="line">    user.setName(<span class="string">&quot;James&quot;</span>);</span><br><span class="line">    repository.save(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-4-DELETE"><a href="#5-4-DELETE" class="headerlink" title="5.4. DELETE"></a>5.4. DELETE</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    UserEntity user = userRepository.findById(<span class="number">1</span>).orElseThrow(() -&gt; <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Not Found&quot;</span>));</span><br><span class="line">    userRepository.delete(user);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 또는</span></span><br><span class="line">    repository.deleteById(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="6-조건절이-있는-CRUD"><a href="#6-조건절이-있는-CRUD" class="headerlink" title="6. 조건절이 있는 CRUD"></a>6. 조건절이 있는 CRUD</h1><h2 id="6-1-메서드명으로부터-쿼리-생성"><a href="#6-1-메서드명으로부터-쿼리-생성" class="headerlink" title="6.1. 메서드명으로부터 쿼리 생성"></a>6.1. 메서드명으로부터 쿼리 생성</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">UserEntity</span>, <span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">List&lt;UserEntity&gt; <span class="title">findByName</span><span class="params">(String name)</span></span>;</span><br><span class="line">    <span class="function">List&lt;UserEntity&gt; <span class="title">findByNameAndScore</span><span class="params">(String name, <span class="keyword">int</span> score)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">long</span> <span class="title">countByName</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>이렇게 단순히 <code>UserRepository</code> 인터페이스에 메서드를 추가해주는 것으로 검색 쿼리를 생성할 수 있습니다.
And, Or, Between, LessThan, Like 등 다양한 조건을 추가해줄 수 있습니다.
자세한 정보는
<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation">문서</a>
를 참고해 주세요</p>
<article class="message message-immersive is-primary">
  <div class="message-body">
    <i class="fas fa-info-circle mr-2"></i>
    메서드의 파라미터 이름이 메서드 이름에 적힌 프로퍼티 이름과 같아야할 필요는 없습니다.
    단순히 메서드의 파라미터의 순서대로 바인드되기 때문입니다.
  </div>
</article>

<h2 id="6-2-Query-어노테이션"><a href="#6-2-Query-어노테이션" class="headerlink" title="6.2. @Query 어노테이션"></a>6.2. @Query 어노테이션</h2><p>하지만 위와 같은 방법으로는 SELECT 쿼리만 사용할 수 있을뿐만 아니라 소괄호를 통한 연산 우선순위를 적용하는 등 복잡한 쿼리를 할 수 없습니다.
이제부터 직접 쿼리문을 작성하는 방법을 소개하겠습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">UserEntity</span>, <span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Query(&quot;SELECT u FROM UserEntity u WHERE u.name = :name&quot;)</span></span><br><span class="line">    <span class="function">List&lt;UserEntity&gt; <span class="title">findByName</span><span class="params">(String name)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="meta">@Modifying</span></span><br><span class="line">    <span class="meta">@Query(&quot;UPDATE UserEntity u SET u.name = :to WHERE u.name = :from&quot;)</span></span><br><span class="line">    <span class="function">Integer <span class="title">updateName</span><span class="params">(String from, String to)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="meta">@Modifying</span></span><br><span class="line">    <span class="meta">@Query(&quot;DELETE FROM #&#123;#entityName&#125; u WHERE u.name = :name&quot;)</span></span><br><span class="line">    <span class="function">Integer <span class="title">deleteByName</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>여기서 <code>@Query</code> 어노테이션 안에 있는 쿼리문은 일반적인 SQL이 아니라 JPQL이라는 Java 독자적인 쿼리 언어입니다.
여기서 테이블명이나 컬럼명 대신 엔티티 클래스 이름과 앤티티 클래스의 멤버 번수 이름을 사용합니다.
UPDATE나 DELETE같이 DB를 변경해야하는 경우에는 반드시 <code>@Transactional</code>, <code>@Modifying</code> 어노테이션을 사용해야합니다.
자세한 사용방법은 <a target="_blank" rel="noopener" href="https://www.baeldung.com/spring-data-jpa-query">여기</a>를 참고해 주세요.</p>
<article class="message message-immersive is-primary">
  <div class="message-body">
    <i class="fas fa-info-circle mr-2"></i>
    JPQL에 엔티티 클래스 이름을 직접 집어넣지 않고 <code>#&#123;#entityName&#125;</code>을 넣음으로써
    현재 레포지토리의 엔티티 클래스 이름을 자동으로 바인딩 할 수 있습니다.
  </div>
</article>

<h2 id="6-3-Example"><a href="#6-3-Example" class="headerlink" title="6.3. Example"></a>6.3. Example</h2><p>하지만 위와같은 방법으로는 검색 조건의 수가 유동적인 경우에는 사용할 수 없습니다.
예시 엔티티를 생성해서 비교하는 벙법을 소개하겠습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">UserEntity toCompare = <span class="keyword">new</span> UserEntity(<span class="number">1</span>, <span class="string">&quot;John&quot;</span>, <span class="keyword">null</span>);</span><br><span class="line">Example&lt;UserEntity&gt; ex = Example.of(toCompare);</span><br><span class="line">List&lt;UserEntity&gt; users = repository.findAll(ex);</span><br><span class="line">users.forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<p>예시 엔티티를 생성해서 <code>Example.of</code>메서드로 예시를 생성하고 <code>findAll</code>이나 <code>findOne</code> 메서드에 넘겨주면 됩니다.
예시 엔티티에서 값이 NULL아닌 모든 프로퍼티와 비교합니다.
<code>ExampleMatcher</code>를 통해 문자열의 대소문자 구분 없음, 정규표현식, 포함관계의 비교를 할 수 있습니다.
자세한 사용방법은 <a target="_blank" rel="noopener" href="https://www.baeldung.com/spring-data-query-by-example">여기</a>를 참고해 주세요.</p>
<h2 id="6-4-JpaSpecificationExecutor"><a href="#6-4-JpaSpecificationExecutor" class="headerlink" title="6.4. JpaSpecificationExecutor"></a>6.4. JpaSpecificationExecutor</h2><p>하지만 위와같은 방법으로는 검색 조건의 수가 유동적이며 범위 검색이 있는 경우에는 사용할 수 없습니다.
Repository에 JpaSpecificationExecutor를 상속하는 방법을 소개하겠습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">UserEntity</span>, <span class="title">Integer</span>&gt;, <span class="title">JpaSpecificationExecutor</span>&lt;<span class="title">UserEntity</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>먼저 Repository 인터페이스에 추가로 <code>JpaSpecificationExecutor</code>를 상속합니다. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserSpecs</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Specification&lt;UserEntity&gt; <span class="title">withName</span><span class="params">(<span class="keyword">final</span> String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (root, query, builder) -&gt; builder.equal(root.get(<span class="string">&quot;name&quot;</span>), name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Specification&lt;UserEntity&gt; <span class="title">withScoreRange</span><span class="params">(<span class="keyword">final</span> Integer from, <span class="keyword">final</span> Integer to)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (root, query, builder) -&gt; builder.between(root.get(<span class="string">&quot;score&quot;</span>), from, to);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>먼저 각각의 조건 항을 정의하는 메서드를 만듭니다.
여기서 <code>builder</code>는 <code>CriteriaBuilder</code>라는 클래스인데 equal, between 뿐만 아니라 여러분이 생각할 수 있는 모든 것이 다 있습니다.
자세한 정보는 <a target="_blank" rel="noopener" href="https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html">문서</a>를 확인해주세요.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Specification&lt;UserEntity&gt; spec = Specification.where(<span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (map.containsKey(<span class="string">&quot;name&quot;</span>)) &#123;</span><br><span class="line">    spec = spec.and(UserSpecs.withName(map.get(<span class="string">&quot;name&quot;</span>)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (map.containsKey(<span class="string">&quot;fromScore&quot;</span>) &amp;&amp; map.containsKey(<span class="string">&quot;toScore&quot;</span>)) &#123;</span><br><span class="line">    spec = spec.and(UserSpecs.withScoreRange(map.get(<span class="string">&quot;fromScore&quot;</span>), map.get(<span class="string">&quot;toScore&quot;</span>)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">List&lt;UserEntity&gt; users = repository.findAll(spec);</span><br></pre></td></tr></table></figure>

<p>위와같이 파라미터로 넘어온 map에 키가 있는지 없는지 체크하면서 조건을 추가해줄 수 있습니다.
여기서 and 메서드말고 or, not 메서드도 사용할 수 있습니다.</p>
<h1 id="7-정렬과-페이징처리"><a href="#7-정렬과-페이징처리" class="headerlink" title="7. 정렬과 페이징처리"></a>7. 정렬과 페이징처리</h1><h2 id="7-1-Repository의-기본-메서드"><a href="#7-1-Repository의-기본-메서드" class="headerlink" title="7.1. Repository의 기본 메서드"></a>7.1. Repository의 기본 메서드</h2><h3 id="1-정렬"><a href="#1-정렬" class="headerlink" title="1) 정렬"></a>1) 정렬</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;UserEntity&gt; list = repository.findAll(Sort.by(Sort.Direction.ASC, <span class="string">&quot;score&quot;</span>));</span><br></pre></td></tr></table></figure>

<p><code>Sort</code> 클래스를 통해 정렬을 할 수 있습니다.</p>
<h3 id="2-페이징"><a href="#2-페이징" class="headerlink" title="2) 페이징"></a>2) 페이징</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;UserEntity&gt; list = repository.findAll(PageRequest.of(<span class="number">0</span>, <span class="number">10</span>));</span><br><span class="line"></span><br><span class="line">List&lt;UserEntity&gt; list = repository.findAll(PageRequest.of(<span class="number">0</span>, <span class="number">10</span>, Sort.by(Sort.Direction.ASC, <span class="string">&quot;score&quot;</span>)));</span><br></pre></td></tr></table></figure>

<p><code>PageRequest</code> 클래스를 통해 페이징 처리를 할 수 있습니다.
페이지는 0부터 시작합니다.
세번째 파라미터로 Sort 객체를 넘겨줌으로써 페이징 처리와 정렬을 동시에 할 수 있습니다.
자세한 정보는
<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html">PageRequest 공식 문서</a>,
<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Sort.html">Sort 공식 문서</a>
를 참고해 주세요.</p>
<h2 id="7-2-메서드명으로부터-쿼리-생성"><a href="#7-2-메서드명으로부터-쿼리-생성" class="headerlink" title="7.2. 메서드명으로부터 쿼리 생성"></a>7.2. 메서드명으로부터 쿼리 생성</h2><h3 id="1-정렬-1"><a href="#1-정렬-1" class="headerlink" title="1) 정렬"></a>1) 정렬</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">UserEntity</span>, <span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">List&lt;UserEntity&gt; <span class="title">findByNameOrderByScoreDesc</span><span class="params">(String name)</span></span>;</span><br><span class="line">    <span class="function">List&lt;UserEntity&gt; <span class="title">findByName</span><span class="params">(String name, Sort sort)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>메서드 명뒤에 <code>OrderBy[프로퍼티이름][Desc|Asc]</code>를 붙이면 됩니다.</li>
<li>아니면 <code>Sort</code> 객체를 맨 끝에 파라미터로 추가하면 됩니다.</li>
</ol>
<h3 id="2-페이징-1"><a href="#2-페이징-1" class="headerlink" title="2) 페이징"></a>2) 페이징</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">UserEntity</span>, <span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">List&lt;UserEntity&gt; <span class="title">findByName</span><span class="params">(String name, Pageable pageable)</span></span>;</span><br><span class="line">    <span class="function">Slice&lt;UserEntity&gt; <span class="title">findByName</span><span class="params">(String name, Pageable pageable)</span></span>;</span><br><span class="line">    <span class="function">Page&lt;UserEntity&gt; <span class="title">findByName</span><span class="params">(String name, Pageable pageable)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Pageable 객체를 맨 끝에 파라미터로 추가하면 됩니다.
반환 타입도 위의 3개중에 아무거나 하나 고르면 JPA가 다 알아서 합니다.</p>
<h4 id="Slice"><a href="#Slice" class="headerlink" title="Slice"></a>Slice</h4><p><code>hasNext</code>, <code>hasPrevious</code>, <code>isFirst</code>, <code>isLast</code>의 메서드를 통해 다음, 이전 페이지가 존재하는지, 현재 페이지가 처음이나 마지막인지 알 수 있습니다.
이외에도 다양한 기능을 제공하니 자세한 정보는
<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Slice.html">문서</a>
를 확인해 주세요.</p>
<h4 id="Page"><a href="#Page" class="headerlink" title="Page"></a>Page</h4><p>위의 Slice를 상속받은 것이기 때문에 Slice의 모든 기능을 쓸 수 있습니다.
내부적으로 COUNT 함수를 실행시켜서 검색 결과의 총 갯수를 구합니다.
COUNT 함수의 오버헤드가 큰 경우 별로 추천하지 않습니다.
<code>getTotalElements</code>, <code>getTotalPages</code> 메서드를 통해 전체 결과 갯수, 전체 페이지 수를 구할 수 있습니다.
자세한 정보는
<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Page.html">문서</a>
를 확인해 주세요.</p>
<h2 id="7-3-Query-어노테이션"><a href="#7-3-Query-어노테이션" class="headerlink" title="7.3. @Query 어노테이션"></a>7.3. @Query 어노테이션</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">UserEntity</span>, <span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Query(&quot;SELECT u FROM UserEntity u WHERE u.name = :name&quot;)</span></span><br><span class="line">    <span class="function">Page&lt;UserEntity&gt; <span class="title">findByName</span><span class="params">(String name, Pageable pageable)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>위에서 한 것 처럼 <code>Sort</code>나 <code>Pageable</code>객체를 파라미터에 추가하고 반환 타입을 <code>List</code>, <code>Slice</code>, <code>Page</code>로 바꾸면 JPA가 다 알아서 합니다.</p>
<h2 id="7-4-Example"><a href="#7-4-Example" class="headerlink" title="7.4. Example"></a>7.4. Example</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;UserEntity&gt; users = repository.findAll(ex, PageRequest.of(<span class="number">0</span>, <span class="number">10</span>));</span><br></pre></td></tr></table></figure>

<p>메서드 파라미터 뒤에 <code>Sort</code>나 <code>Pageable</code>객체를 넘겨주면 됩니다.</p>
<h2 id="7-5-JpaSpecificationExecutor"><a href="#7-5-JpaSpecificationExecutor" class="headerlink" title="7.5. JpaSpecificationExecutor"></a>7.5. JpaSpecificationExecutor</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;UserEntity&gt; users = repository.findAll(spec, PageRequest.of(<span class="number">0</span>, <span class="number">10</span>));</span><br></pre></td></tr></table></figure>

<p>마찬가지로 메서드 파라미터 뒤에 <code>Sort</code>나 <code>Pageable</code>객체를 넘겨주면 됩니다.</p>
<h1 id="8-기본-실행-SQL-파일"><a href="#8-기본-실행-SQL-파일" class="headerlink" title="8. 기본 실행 SQL 파일"></a>8. 기본 실행 SQL 파일</h1><p>resources 폴더 루트에 <code>import.sql</code> 이라는 파일이 있으면 Hibernate는 Entity를 통한 Table 자동 생성이 끝난 후 이 파일을 실행합니다.
보통 실행때마다 데이터를 Drop하는 설정에서 요긴하게 쓰입니다.</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Spring Boot - Spring Data JPA (with MySQL)</p><p><a href="https://blog.hyunsub.kim/Spring/Spring-Jpa/">https://blog.hyunsub.kim/Spring/Spring-Jpa/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Hyunsub Kim</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2020-12-18</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/spring/">spring</a><a class="link-muted mr-2" rel="tag" href="/tags/spring-boot/">spring-boot</a></div><div class="sharethis-inline-share-buttons"></div><script src="//platform-api.sharethis.com/js/sharethis.js#property=5fd61d47957af60014171af8&amp;product=inline-share-buttons" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/Node/webpack/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">바닥부터 시작하는 Webpack</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/Spring/Spring-Jdbc/"><span class="level-item">Spring Boot - JDBC (with MySQL)</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">댓글</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://blog.hyunsub.kim/Spring/Spring-Jpa/';
            this.page.identifier = 'afc725463a8aaaa14858b63b71b96aa55af4b662';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'blog-hyunsub' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-3-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/assets/profile.jpg" alt="Hyunsub Kim"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Hyunsub Kim</p><p class="is-size-6 is-block">(noverish)</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Seoul, Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">37</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">48</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/noverish" target="_blank" rel="noopener">팔로우</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Résumé" href="https://hyunsub.kim"><i class="fas fa-home"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/noverish"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com/profile.php?id=100008644627377"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/noverish"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/hyunsub-kim-912a981b2/"><i class="fab fa-linkedin"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Android/"><span class="level-start"><span class="level-item">Android</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/CI-CD/"><span class="level-start"><span class="level-item">CI/CD</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Node/"><span class="level-start"><span class="level-item">Node</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Server/"><span class="level-start"><span class="level-item">Server</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Spring/"><span class="level-start"><span class="level-item">Spring</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/iOS/"><span class="level-start"><span class="level-item">iOS</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/%EA%B8%B0%ED%83%80/"><span class="level-start"><span class="level-item">기타</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">카탈로그</h3><ul class="menu-list"><li><a class="level is-mobile" href="#1-Dependency-추가"><span class="level-left"><span class="level-item">1. Dependency 추가</span></span></a></li><li><a class="level is-mobile" href="#2-설정"><span class="level-left"><span class="level-item">2. 설정</span></span></a></li><li><a class="level is-mobile" href="#3-Entity-클래스-정의"><span class="level-left"><span class="level-item">3. Entity 클래스 정의</span></span></a></li><li><a class="level is-mobile" href="#4-Repository-인터페이스-정의"><span class="level-left"><span class="level-item">4. Repository 인터페이스 정의</span></span></a></li><li><a class="level is-mobile" href="#5-간단한-CRUD"><span class="level-left"><span class="level-item">5. 간단한 CRUD</span></span></a></li><li><a class="level is-mobile" href="#6-조건절이-있는-CRUD"><span class="level-left"><span class="level-item">6. 조건절이 있는 CRUD</span></span></a></li><li><a class="level is-mobile" href="#7-정렬과-페이징처리"><span class="level-left"><span class="level-item">7. 정렬과 페이징처리</span></span></a></li><li><a class="level is-mobile" href="#8-기본-실행-SQL-파일"><span class="level-left"><span class="level-item">8. 기본 실행 SQL 파일</span></span></a></li></ul></div></div><script src="/js/toc.js" defer></script></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/assets/logo.svg" alt="Hyunsub&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2021 Hyunsub Kim</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script><!-- hexo injector body_end start -->
  <script>
  (() => {
    function switchTab() {
      const defaultTab = document.querySelector('.tabs li a').getAttribute('href').slice(1);
      const activeTab = (location.hash) ? location.hash.slice(1) : defaultTab;

      document.querySelectorAll('.tab-content').forEach(v => v.classList.add('is-hidden'));
      document.querySelectorAll('.tabs li').forEach(v => v.classList.remove('is-active'));

      document.querySelectorAll('.' + activeTab).forEach(v => v.classList.remove('is-hidden'));
      document.querySelectorAll(`a[href="#${activeTab}"]`).forEach(v => v.parentElement.classList.add('is-active'));
    }
    switchTab();
    window.addEventListener('hashchange', switchTab, false);
  })();
  </script>
  <!-- hexo injector body_end end --></body></html>